<!DOCTYPE html>
<html lang="id">
<head>
  <!-- SATPAM KEAMANAN -->
  <script src="auth-guard.js"></script>

  <link rel="manifest" href="manifest.webmanifest">
  <!-- THEME COLOR DIPERBARUI -->
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Obscura - Instruksi</title>
  <link href="https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Cardo', serif;
      background: radial-gradient(ellipse at center, #111 0%, #000 100%);
      color: #e0e0e0;
      line-height: 1.8;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px 30px 50px 30px;
    }
    .title-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 150px;
        margin-bottom: 10px;
    }
    h1 {
      font-weight: 700;
      color: #fff;
      text-align: center;
      font-size: 2.5em;
      margin: 0;
      z-index: 2;
    }
    .circle {
        position: absolute;
        width: 150px;
        height: 150px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 50%;
        animation: rotate 12s linear infinite;
        z-index: 1;
        filter: blur(0.8px);
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.02);
    }
    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    h2 {
      font-weight: 700;
      color: #fff;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      padding-bottom: 10px;
      margin-top: 40px;
      margin-bottom: 20px;
    }
    h3 {
        color: #fff;
        font-weight: 700;
        margin-top: 25px;
        margin-bottom: 5px;
    }
    p, li {
      font-size: 1.1em;
      color: #ccc;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    li {
      background: rgba(255,255,255,0.03);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 10px;
      border-left: 3px solid #4caf50;
    }
    strong {
      font-weight: 700;
      color: #fff;
    }
    .intro-box {
        background: rgba(0,0,0,0.2);
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        border: 1px solid rgba(255,255,255,0.05);
    }
    .credit {
      text-align: center;
      margin-top: 60px;
      color: #888;
      font-style: italic;
    }
    .back-button {
        display: block;
        width: fit-content;
        margin: 40px auto 0 auto;
        padding: 10px 25px;
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.1);
        color: #e0e0e0;
        text-decoration: none;
        border-radius: 8px;
        transition: background-color 0.3s;
    }
    .back-button:hover {
        background-color: rgba(255,255,255,0.1);
    }
    .fade-in {
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 0.6s ease forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  </style>
</head>
<body>
  <div class="container">
    <div class="title-container">
      <div class="circle"></div>
      <h1>OBSCURA</h1>
    </div>
    
    <button id="forceRefreshBtn" style="display:block;margin:20px auto 0 auto;padding:10px 20px;background:#333;color:#fff;border:none;border-radius:8px;cursor:pointer">Update App</button>
    <br>


    <div class="intro-box">
      
  <p class="fade-in" style="animation-delay: 0.2s;">
  Selamat datang di <strong>Obscura</strong>. Ini adalah proyek independen yang lahir dari sebuah hobi dan hasrat untuk dunia sulap, terutama seni mentalisme. Dikonsepkan oleh <strong>@pesulapgabut</strong>, aplikasi ini bukanlah produk komersial dan tidak untuk diperjualbelikan.
</p>
<p class="fade-in" style="animation-delay: 0.4s;">
  Obscura adalah aplikasi web interaktif yang memungkinkan seorang pesulap dan asistennya untuk berkomunikasi secara diam-diam selama pertunjukan berlangsung. Asisten (Sender) dapat mengirimkan sinyal, informasi, atau kode rahasia secara real-time kepada pesulap (Receiver), yang akan menerima pesan tersebut melalui tampilan layar atau suara (TTS). Sistem ini dirancang untuk digunakan secara praktis, tanpa terlihat mencolok oleh penonton.
</p>
<p class="fade-in" style="animation-delay: 0.6s;">
  Obscura didedikasikan sepenuhnya untuk dapat digunakan secara gratis oleh teman-teman terdekat sebagai sarana untuk menyalurkan ide dan kreativitas dalam dunia pertunjukan. Selamat menggunakan.
</p>

<h2 class="fade-in" style="animation-delay: 0.8s;">1. Memulai & Terhubung</h2>
<ul>
  <li class="fade-in" style="animation-delay: 1s;"><strong>Membuat ID Anda:</strong><br>Setiap pengguna harus memiliki ID 6 digit. Buka menu <strong>Settings</strong>, lalu masukkan 6 digit angka di bagian "ID Anda" untuk membuat identitas permanen Anda.</li>
  <li class="fade-in" style="animation-delay: 1.2s;"><strong>Menghubungkan dengan Partner:</strong><br>Di menu <strong>Settings</strong>, masukkan ID teman Anda di kolom "Partner", lalu tekan "Kirim Permintaan Koneksi". Teman Anda harus menekan <strong>"Izinkan"</strong> pada notifikasi yang muncul di halaman utamanya.</li>
</ul>

<h2 class="fade-in" style="animation-delay: 1.4s;">2. Halaman Sender (Pengirim)</h2>
<p class="fade-in" style="animation-delay: 1.6s;">Halaman ini berfungsi sebagai "remote control" Anda untuk mengirim informasi. Anda hanya bisa mengaksesnya saat terhubung dengan seorang <strong>Partner</strong>.</p>
<ul>
  <li class="fade-in" style="animation-delay: 1.8s;"><h3>Input Teks</h3>Ketik pesan atau kata apa pun, lalu tekan <strong>Enter</strong> pada keyboard Anda untuk mengirimkannya.</li>
  <li class="fade-in" style="animation-delay: 2s;"><h3>Input Angka Cepat</h3>Gunakan tombol angka (0-9) untuk mengirim satu digit angka secara instan dengan sekali tekan.</li>
  <li class="fade-in" style="animation-delay: 2.2s;"><h3>Kalkulator</h3>Gunakan kalkulator untuk melakukan perhitungan. Saat Anda menekan tombol <strong>=</strong>, hasilnya akan langsung dikirim ke partner Anda dan display kalkulator akan otomatis bersih.</li>
</ul>

<h2 class="fade-in" style="animation-delay: 2.4s;">3. Halaman Receiver (Penerima)</h2>
<p class="fade-in" style="animation-delay: 2.6s;">Halaman ini berfungsi sebagai "layar" Anda untuk menerima informasi dari Sender atau Tamu.</p>
<ul>
  <li class="fade-in" style="animation-delay: 2.8s;"><h3>Penerimaan Real-time</h3>Layar akan secara otomatis menampilkan data yang dikirim. Data baru akan menggantikan yang lama.</li>
  <li class="fade-in" style="animation-delay: 3s;"><h3>Text-to-Speech (TTS)</h3>Secara default, suara akan aktif. Gunakan tombol speaker untuk mengaktifkan atau mematikan suara.</li>
  <li class="fade-in" style="animation-delay: 3.2s;"><h3>Tombol Clear Display</h3>Gunakan tombol ini di pojok kanan atas untuk membersihkan layar secara manual.</li>
</ul>

<h2 class="fade-in" style="animation-delay: 3.4s;">4. Fitur Lanjutan: Link Tamu</h2>
<p class="fade-in" style="animation-delay: 3.6s;">Fitur ini memungkinkan Anda menerima data dari seseorang yang tidak memiliki aplikasi ini.</p>
<ul>
  <li class="fade-in" style="animation-delay: 3.8s;">Di <strong>Menu Utama</strong>, tekan tombol "Buat Link Tamu".</li>
  <li class="fade-in" style="animation-delay: 4s;">Sebuah kotak dialog akan muncul. Tekan <strong>"Salin"</strong> atau <strong>"Bagikan"</strong> untuk memberikan link tersebut.</li>
  <li class="fade-in" style="animation-delay: 4.2s;">Link hanya bisa digunakan <strong>sekali</strong>. Setelah tamu terhubung, status akan berubah menjadi "Tamu Terhubung".</li>
</ul>

<h2 class="fade-in" style="animation-delay: 4.4s;">5. Custom Thump Preset</h2>
<p class="fade-in" style="animation-delay: 4.6s;">Anda dapat membuat tombol-tombol cepat dengan isi pesan yang bisa disesuaikan.</p>
<ul>
  <li class="fade-in" style="animation-delay: 4.8s;">Buka halaman <strong>Atur Koneksi</strong> (api.html)</li>
  <li class="fade-in" style="animation-delay: 5s;">Gulir ke bagian <strong>Custom Thump</strong></li>
  <li class="fade-in" style="animation-delay: 5.2s;">Masukkan kata atau frasa yang ingin dijadikan tombol, pisahkan dengan koma (Contoh: <code>Merah, Tengah, 2 Kartu</code>)</li>
  <li class="fade-in" style="animation-delay: 5.4s;">Tekan tombol <strong>Simpan Preset</strong></li>
  <li class="fade-in" style="animation-delay: 5.6s;">Tombol preset akan muncul di halaman <strong>Sender</strong></li>
  <li class="fade-in" style="animation-delay: 5.8s;">Tekan <strong>Hapus Preset</strong> untuk menghapus semua</li>
</ul>

<h2 class="fade-in" style="animation-delay: 6s;">6. Force Refresh</h2>
<p class="fade-in" style="animation-delay: 6.2s;">Digunakan saat aplikasi tidak memperbarui meskipun sudah ada versi baru.</p>
<ul>
  <li class="fade-in" style="animation-delay: 6.4s;">Lihat di bagian atas halaman ini
  <li class="fade-in" style="animation-delay: 6.6s;">Di sana terdapat tombol <strong>Force Refresh</strong></li>
  <li class="fade-in" style="animation-delay: 6.8s;">Ketika tombol di-klik, cache lama akan dihapus, dan halaman dimuat ulang</li>
  <li class="fade-in" style="animation-delay: 7s;">Fitur ini <strong>tidak menghapus</strong> data penting seperti kode koneksi atau preset</li>
</ul>

<h2 class="fade-in" style="animation-delay: 7.2s;">7. Kalkulator & Kode Kartu</h2>
<p class="fade-in" style="animation-delay: 7.4s;">Kalkulator di halaman Sender dapat mengirim hasil hitung atau kode kartu berdasarkan sistem Mnemonica Stack.</p>
<ul>
  <li class="fade-in" style="animation-delay: 7.6s;">Masukkan angka antara <strong>1–52</strong> ke kalkulator</li>
  <li class="fade-in" style="animation-delay: 7.8s;">Tekan tombol <strong>=</strong></li>
  <li class="fade-in" style="animation-delay: 8s;">Contoh: <code>17</code> → <strong>9 Hati</strong></li>
  <li class="fade-in" style="animation-delay: 8.2s;">Pesan akan dikirim sebagai teks ke receiver</li>
  <li class="fade-in" style="animation-delay: 8.4s;">Jika yang dimasukkan berupa kalkulasi (misalnya <code>5+7</code>), hasil hitungnya akan dikirim</li>
</ul>


    
    <a href="main.html" class="back-button">Kembali ke Menu Utama</a>
    

    <div class="credit">
      <p>Conceptor: @pesulapgabut</p>
    </div>
  </div>
  <script>
    const forceRefreshBtn = document.getElementById("forceRefreshBtn");
    forceRefreshBtn.addEventListener("click", async () => {
      if ('serviceWorker' in navigator) {
        const registrations = await navigator.serviceWorker.getRegistrations();
        for (const reg of registrations) {
          await reg.unregister();
        }
      }

      if ('caches' in window) {
        const cacheNames = await caches.keys();
        for (const name of cacheNames) {
          await caches.delete(name);
        }
      }

      window.location.reload(true);
    });
  </script>
</body>
</html>
